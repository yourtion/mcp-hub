# MCP Hub 生产环境配置示例
# 复制此文件为 .env.production 并填写实际值

# ==================== 基础配置 ====================

# 运行环境
NODE_ENV=production

# 服务器配置
PORT=3000
HOST=0.0.0.0

# ==================== 安全配置 ====================

# JWT 密钥（必须修改！使用 openssl rand -base64 64 生成）
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT 过期时间
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Bcrypt 加密轮数
BCRYPT_ROUNDS=10

# ==================== 日志配置 ====================

# 日志级别 (error, warn, info, debug)
LOG_LEVEL=info

# 日志文件路径
LOG_FILE=/var/log/mcp-hub/app.log

# 日志文件最大大小
LOG_MAX_SIZE=10m

# 保留的日志文件数量
LOG_MAX_FILES=10

# ==================== CORS 配置 ====================

# 允许的源（多个用逗号分隔）
CORS_ORIGIN=https://mcp-hub.example.com,https://www.mcp-hub.example.com

# 是否允许凭据
CORS_CREDENTIALS=true

# ==================== 速率限制 ====================

# 速率限制窗口（毫秒）
RATE_LIMIT_WINDOW_MS=60000

# 窗口内最大请求数
RATE_LIMIT_MAX_REQUESTS=100

# ==================== 监控配置 ====================

# 是否启用监控
MONITORING_ENABLED=true

# 指标收集间隔（毫秒）
METRICS_INTERVAL=60000

# 健康检查间隔（毫秒）
HEALTH_CHECK_INTERVAL=30000

# ==================== 配置文件路径 ====================

# 配置文件目录
CONFIG_DIR=/etc/mcp-hub/config

# MCP 服务器配置文件
MCP_SERVER_CONFIG=/etc/mcp-hub/config/mcp_server.json

# 组配置文件
GROUP_CONFIG=/etc/mcp-hub/config/group.json

# 系统配置文件
SYSTEM_CONFIG=/etc/mcp-hub/config/system.json

# ==================== 数据库配置（如果使用） ====================

# 数据库 URL（可选）
# DATABASE_URL=postgresql://user:password@localhost:5432/mcp_hub

# ==================== 外部服务配置 ====================

# Sentry DSN（错误追踪，可选）
# SENTRY_DSN=https://your-sentry-dsn

# Sentry 环境
# SENTRY_ENVIRONMENT=production

# ==================== 性能配置 ====================

# Node.js 内存限制（MB）
# NODE_OPTIONS=--max-old-space-size=4096

# 集群模式实例数（0 = CPU 核心数）
# CLUSTER_INSTANCES=0

# ==================== 备份配置 ====================

# 备份目录
BACKUP_DIR=/backup/mcp-hub

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# ==================== SSL/TLS 配置 ====================

# SSL 证书路径（如果直接使用 Node.js HTTPS）
# SSL_CERT=/etc/ssl/certs/mcp-hub.crt
# SSL_KEY=/etc/ssl/private/mcp-hub.key

# ==================== 其他配置 ====================

# 时区
TZ=Asia/Shanghai

# 是否启用调试模式
DEBUG=false

# API 超时时间（毫秒）
API_TIMEOUT=30000

# MCP 连接超时时间（毫秒）
MCP_CONNECTION_TIMEOUT=10000

# 最大并发连接数
MAX_CONNECTIONS=100
